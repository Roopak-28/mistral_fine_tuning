name: Prepare QnA Data in Mistral Format
description: Loads a Hugging Face QnA dataset and saves a JSONL file in Mistral instruction format.

inputs:
  - name: dataset_name
    type: String
    description: Hugging Face QnA dataset name (e.g. squad)
  - name: max_samples
    type: Integer
    description: Maximum number of samples (0 for all)
  - name: output_path
    type: String
    description: Path for output JSONL file

outputs:
  - name: mistral_jsonl
    type: File
    description: Path to Mistral-formatted instruction JSONL

implementation:
  container:
    image: python:3.10
    command: [python3, qna_to_mistral_format.py]
    args:
      - --dataset_name
      - { inputValue: dataset_name }
      - --max_samples
      - { inputValue: max_samples }
      - --output_path
      - { outputPath: mistral_jsonl }
    fileOutputs:
      mistral_jsonl: { outputPath: mistral_jsonl }
